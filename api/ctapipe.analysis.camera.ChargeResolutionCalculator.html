

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ChargeResolutionCalculator &mdash; ctapipe v0.1.dev1+gddc003f</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Calibration (calib)" href="../ctapipe_api/calib/index.html" />
    <link rel="prev" title="Analysis (analysis)" href="../ctapipe_api/analysis/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ctapipe
          

          
          </a>

          
            
            
              <div class="version">
                0.1.dev1+gddc003f
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Command-Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_models/index.html">Data Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ctapipe_api/index.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../ctapipe_api/analysis/index.html">Analysis (<code class="xref py py-obj docutils literal notranslate"><span class="pre">analysis</span></code>)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ctapipe_api/analysis/index.html#introduction">Introduction</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../ctapipe_api/analysis/index.html#reference-api">Reference/API</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../ctapipe_api/analysis/index.html#module-ctapipe.analysis.camera">ctapipe.analysis.camera Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/calib/index.html">Calibration (<code class="xref py py-obj docutils literal notranslate"><span class="pre">calib</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/containers/index.html">Containers (<code class="xref py py-obj docutils literal notranslate"><span class="pre">containers</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/coordinates/index.html">Coordinates (<code class="xref py py-obj docutils literal notranslate"><span class="pre">coordinates</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/core/index.html">Core Structures and Base Classes (<code class="xref py py-obj docutils literal notranslate"><span class="pre">core</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/image/index.html">Imaging (<code class="xref py py-obj docutils literal notranslate"><span class="pre">image</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/instrument/index.html">Instrument (<code class="xref py py-obj docutils literal notranslate"><span class="pre">instrument</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/io/index.html">Input/Output (<code class="xref py py-obj docutils literal notranslate"><span class="pre">io</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/reco/index.html">Reconstruction (<code class="xref py py-obj docutils literal notranslate"><span class="pre">reco</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/tools/index.html">Command line tools (<code class="xref py py-obj docutils literal notranslate"><span class="pre">tools</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/utils/index.html">Utilities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">utils</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/visualization/index.html">Visualization (<code class="xref py py-obj docutils literal notranslate"><span class="pre">visualization</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ctapipe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../ctapipe_api/index.html">API Docs</a> &raquo;</li>
        
          <li><a href="../ctapipe_api/analysis/index.html">Analysis (<code class="xref py py-obj docutils literal notranslate"><span class="pre">analysis</span></code>)</a> &raquo;</li>
        
      <li>ChargeResolutionCalculator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/ctapipe.analysis.camera.ChargeResolutionCalculator.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="chargeresolutioncalculator">
<h1>ChargeResolutionCalculator<a class="headerlink" href="#chargeresolutioncalculator" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ctapipe.analysis.camera.ChargeResolutionCalculator">
<em class="property">class </em><code class="sig-prename descclassname">ctapipe.analysis.camera.</code><code class="sig-name descname">ChargeResolutionCalculator</code><span class="sig-paren">(</span><em class="sig-param">mc_true=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/analysis/camera/charge_resolution.html#ChargeResolutionCalculator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.analysis.camera.ChargeResolutionCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Calculates the charge resolution with an efficient, low-memory,
interative approach, allowing the contribution of data/events
without reading the entire dataset into memory.</p>
<p>Utilises Pandas DataFrames, and makes no assumptions on the order of
the data, and does not require the true charge to be integer (as may
be the case for lab measurements where an average illumination
is used).</p>
<p>A list is filled with a dataframe for each contribution, and only
amalgamated into a single dataframe (reducing memory) once the memory
of the list becomes large (or at the end of the filling),
reducing the time required to produce the output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mc_true</strong><span class="classifier">bool</span></dt><dd><p>Indicate if the “true charge” values are from the sim_telarray
files, and therefore without poisson error. The poisson error will
therefore be included in the charge resolution calculation.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>self._mc_true</strong><span class="classifier">bool</span></dt><dd></dd>
<dt><strong>self._df_list</strong><span class="classifier">list</span></dt><dd></dd>
<dt><strong>self._df</strong><span class="classifier">pd.DataFrame</span></dt><dd></dd>
<dt><strong>self._n_bytes</strong><span class="classifier">int</span></dt><dd><p>Monitors the number of bytes being held in memory</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.add" title="ctapipe.analysis.camera.ChargeResolutionCalculator.add"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add</span></code></a>(pixel, true, measured)</p></td>
<td><p>Contribute additional values to the Charge Resolution</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res" title="ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res"><code class="xref py py-obj docutils literal notranslate"><span class="pre">charge_res</span></code></a>(true, sum_, n)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res_abs" title="ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res_abs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">charge_res_abs</span></code></a>(true, sum_, n)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.finish" title="ctapipe.analysis.camera.ChargeResolutionCalculator.finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish</span></code></a>()</p></td>
<td><p>Perform the final amalgamation, and calculate the charge resolution from the resulting sums</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.rmse" title="ctapipe.analysis.camera.ChargeResolutionCalculator.rmse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rmse</span></code></a>(true, sum_, n)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.rmse_abs" title="ctapipe.analysis.camera.ChargeResolutionCalculator.rmse_abs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rmse_abs</span></code></a>(sum_, n)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="ctapipe.analysis.camera.ChargeResolutionCalculator.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">pixel</em>, <em class="sig-param">true</em>, <em class="sig-param">measured</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/analysis/camera/charge_resolution.html#ChargeResolutionCalculator.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Contribute additional values to the Charge Resolution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pixel</strong><span class="classifier">ndarray</span></dt><dd><p>1D array containing the pixel for each entry</p>
</dd>
<dt><strong>true</strong><span class="classifier">ndarray</span></dt><dd><p>1D array containing the true charge for each entry</p>
</dd>
<dt><strong>measured</strong><span class="classifier">ndarray</span></dt><dd><p>1D array containing the measured charge for each entry</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res">
<em class="property">static </em><code class="sig-name descname">charge_res</code><span class="sig-paren">(</span><em class="sig-param">true</em>, <em class="sig-param">sum_</em>, <em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/analysis/camera/charge_resolution.html#ChargeResolutionCalculator.charge_res"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res_abs">
<em class="property">static </em><code class="sig-name descname">charge_res_abs</code><span class="sig-paren">(</span><em class="sig-param">true</em>, <em class="sig-param">sum_</em>, <em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/analysis/camera/charge_resolution.html#ChargeResolutionCalculator.charge_res_abs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.charge_res_abs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctapipe.analysis.camera.ChargeResolutionCalculator.finish">
<code class="sig-name descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/analysis/camera/charge_resolution.html#ChargeResolutionCalculator.finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the final amalgamation, and calculate the charge resolution
from the resulting sums</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df_p</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>Dataframe containing the charge resolution per pixel</p>
</dd>
<dt><strong>df_c</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>Dataframe containing the charge resolution for the entire camera</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.analysis.camera.ChargeResolutionCalculator.rmse">
<em class="property">static </em><code class="sig-name descname">rmse</code><span class="sig-paren">(</span><em class="sig-param">true</em>, <em class="sig-param">sum_</em>, <em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/analysis/camera/charge_resolution.html#ChargeResolutionCalculator.rmse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.rmse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctapipe.analysis.camera.ChargeResolutionCalculator.rmse_abs">
<em class="property">static </em><code class="sig-name descname">rmse_abs</code><span class="sig-paren">(</span><em class="sig-param">sum_</em>, <em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/analysis/camera/charge_resolution.html#ChargeResolutionCalculator.rmse_abs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.analysis.camera.ChargeResolutionCalculator.rmse_abs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ctapipe_api/calib/index.html" class="btn btn-neutral float-right" title="Calibration (calib)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../ctapipe_api/analysis/index.html" class="btn btn-neutral float-left" title="Analysis (analysis)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright ctapipe developers.  Last updated 01 Dec 2020 12:29

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>